{
  "resolvedId": "/home/wombocombo/github/wrk/gdg-fsc-website/node_modules/effect/dist/esm/internal/stm/tSemaphore.js",
  "transforms": [
    {
      "name": "__load__",
      "result": "import * as Cause from \"../../Cause.js\";\nimport * as Effect from \"../../Effect.js\";\nimport { dual } from \"../../Function.js\";\nimport * as STM from \"../../STM.js\";\nimport * as core from \"./core.js\";\nimport * as tRef from \"./tRef.js\";\n/** @internal */\nconst TSemaphoreSymbolKey = \"effect/TSemaphore\";\n/** @internal */\nexport const TSemaphoreTypeId = /*#__PURE__*/Symbol.for(TSemaphoreSymbolKey);\n/** @internal */\nclass TSemaphoreImpl {\n  permits;\n  [TSemaphoreTypeId] = TSemaphoreTypeId;\n  constructor(permits) {\n    this.permits = permits;\n  }\n}\n/** @internal */\nexport const make = permits => STM.map(tRef.make(permits), permits => new TSemaphoreImpl(permits));\n/** @internal */\nexport const acquire = self => acquireN(self, 1);\n/** @internal */\nexport const acquireN = /*#__PURE__*/dual(2, (self, n) => core.withSTMRuntime(driver => {\n  if (n < 0) {\n    throw new Cause.IllegalArgumentException(`Unexpected negative value ${n} passed to Semaphore.acquireN`);\n  }\n  const value = tRef.unsafeGet(self.permits, driver.journal);\n  if (value < n) {\n    return STM.retry;\n  } else {\n    return STM.succeed(tRef.unsafeSet(self.permits, value - n, driver.journal));\n  }\n}));\n/** @internal */\nexport const available = self => tRef.get(self.permits);\n/** @internal */\nexport const release = self => releaseN(self, 1);\n/** @internal */\nexport const releaseN = /*#__PURE__*/dual(2, (self, n) => core.withSTMRuntime(driver => {\n  if (n < 0) {\n    throw new Cause.IllegalArgumentException(`Unexpected negative value ${n} passed to Semaphore.releaseN`);\n  }\n  const current = tRef.unsafeGet(self.permits, driver.journal);\n  return STM.succeed(tRef.unsafeSet(self.permits, current + n, driver.journal));\n}));\n/** @internal */\nexport const withPermit = /*#__PURE__*/dual(2, (self, semaphore) => withPermits(self, semaphore, 1));\n/** @internal */\nexport const withPermits = /*#__PURE__*/dual(3, (self, semaphore, permits) => Effect.uninterruptibleMask(restore => Effect.zipRight(restore(core.commit(acquireN(permits)(semaphore))), Effect.ensuring(self, core.commit(releaseN(permits)(semaphore))))));\n/** @internal */\nexport const withPermitScoped = self => withPermitsScoped(self, 1);\n/** @internal */\nexport const withPermitsScoped = /*#__PURE__*/dual(2, (self, permits) => Effect.acquireReleaseInterruptible(core.commit(acquireN(self, permits)), () => core.commit(releaseN(self, permits))));\n/** @internal */\nexport const unsafeMakeSemaphore = permits => {\n  return new TSemaphoreImpl(new tRef.TRefImpl(permits));\n};\n//# sourceMappingURL=tSemaphore.js.map",
      "start": 1768772628585,
      "end": 1768772628585
    },
    {
      "name": "sentry-vite-component-name-annotate-plugin",
      "start": 1768772628585,
      "end": 1768772628588,
      "order": "pre"
    },
    {
      "name": "comlink",
      "start": 1768772628618,
      "end": 1768772628621,
      "order": "normal"
    },
    {
      "name": "sentry-vite-bundle-size-optimizations-plugin",
      "start": 1768772628647,
      "end": 1768772628651,
      "order": "normal"
    },
    {
      "name": "vite-plugin-csp-guard",
      "start": 1768772628703,
      "end": 1768772628706,
      "order": "post-post"
    }
  ]
}
